version: 2.1
jobs:
  runner-test:
    machine: true
    resource_class: testing-namespace/resource_label
    steps:
      - run:
          name: Add CircleCI User to Docker Group
          command: |
            sudo usermod -aG docker $USER
            newgrp docker  # Start a new shell with the updated group
      - run:
          name: Pull Nginx Docker Image
          command: |
            docker pull nginx:latest
workflows:
  version: 2
  testing:
    jobs:
      - runner-test
